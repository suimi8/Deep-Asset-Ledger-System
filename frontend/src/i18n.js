import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import LanguageDetector from 'i18next-browser-languagedetector';

const resources = {
    // ... rest of resources
    en: {
        translation: {
            "auth": {
                "login_title": "Welcome Back",
                "login_subtitle": "Manage your assets with your email account",
                "login_btn": "Login",
                "register_title": "Create Account",
                "register_subtitle": "Start your digital investment journey",
                "register_btn": "Register",
                "email": "Email Address",
                "password": "Password",
                "verification_code": "Verification Code",
                "send_code": "Get Code",
                "no_account": "No account?",
                "have_account": "Already have an account?",
                "login_link": "Login now",
                "register_link": "Register now",
                "logout": "Logout",
                "forgot_password": "Forgot Password?",
                "reset_password_title": "Reset Password",
                "reset_password_subtitle": "Verify your email to set a new password",
                "reset_password_btn": "Reset Password",
                "reset_password_success": "Password reset successfully",
                "new_password": "New Password",
                "login_success": "Logged in successfully",
                "register_success": "Registered successfully",
                "email_required": "Email is required",
                "code_sent": "Verification code sent to email",
                "email_placeholder": "name@example.com",
                "code_placeholder": "6-digit code",
                "password_placeholder": "Minimum 8 characters",
                "send_code_failed": "Failed to send verification code",
                "security_check_failed": "Security check failed. Please refresh.",
                "login_failed": "Login failed",
                "register_failed": "Registration failed",
                "reset_failed": "Reset failed"
            },
            "app": {
                "title": "DeepLedger",
                "nav": {
                    "overview": "Overview",
                    "stocks": "Stocks",
                    "transactions": "Transactions",
                    "settings": "Settings",
                    "menu": "Menu"
                }
            },
            "dashboard": {
                "title": "Portfolio Overview",
                "subtitle": "Monitor your performance and analyze your assets.",
                "net_worth": "Net Worth",
                "total_pnl": "Total P/L",
                "daily_pnl": "Daily P/L",
                "history": "Performance History",
                "daily_details": "Daily Breakdown",
                "stock_count": "Holdings Count"
            },
            "stocks": {
                "title": "My Portfolio",
                "subtitle": "Manage and monitor your financial portfolio instruments.",
                "add_button": "Add Stock",
                "search_placeholder": "Search by Symbol or Name...",
                "identity_config": "Identity & Configuration",
                "discovery_reg": "Discovery & Registration",
                "symbol_label": "Symbol",
                "name_label": "Name",
                "market_label": "Market",
                "search_label": "Search Stock (Symbol/Name)",
                "table": {
                    "symbol": "Symbol",
                    "name": "Name",
                    "market": "Market",
                    "holdings": "Holdings",
                    "performance": "Performance",
                    "action": "Action",
                    "details": "Details"
                },
                "add_first": "Add your first stock",
                "loading": "Loading...",
                "empty": "No stocks found. Add one!",
                "error_add": "Error adding stock",
                "edit_title": "Edit Stock",
                "delete": "Delete",
                "delete_title": "Delete Stock",
                "delete_success": "Stock deleted successfully",
                "delete_btn": "Delete Now",
                "add_success": "Stock added successfully",
                "update_success": "Stock updated successfully",
                "market_types": {
                    "US": "US Stock",
                    "HK": "HK Stock",
                    "CN": "A-Share",
                    "Crypto": "Crypto"
                },
                "searching": "Searching...",
                "no_results": "No stocks found.",
                "search_btn": "Search",
                "delete_failed": "Failed to delete stock"
            },
            "common": {
                "coming_soon": "Transactions Coming Soon",
                "cancel": "Cancel",
                "confirm": "Confirm"
            },
            "stock_detail": {
                "current_price": "Current Price",
                "no_price_data": "No Price Data",
                "avg_cost": "Avg Cost",
                "holdings_qty": "Holdings",
                "market_value": "Market Value",
                "unrealized_pnl": "Unrealized P/L",
                "price_history": "Price History",
                "recent_transactions": "Recent Transactions",
                "add_quote": "Add Daily Quote",
                "date": "Date",
                "close_price": "Close Price",
                "save_quote": "Save Quote",
                "add_transaction": "Add Transaction",
                "record_transaction": "Record Transaction",
                "type": "Type",
                "price": "Price",
                "open": "Open",
                "high": "High",
                "low": "Low",
                "quantity": "Quantity",
                "fees": "Fees",
                "buy": "BUY",
                "sell": "SELL",
                "dividend": "DIVIDEND",
                "dividend_cash": "Dividend (Cash)",
                "close_position": "CLOSE POSITION",
                "add_quote": "Add Quote",
                "quote_type": "Quote (Market Price)",
                "fetching": "Fetching...",
                "no_price_today": "Today's closing price is not available yet. Please enter manually or try again later.",
                "auto_fill": "Auto Fill",
                "fetch_failed": "Failed to fetch price: {{message}}",
                "toast_quote_added": "Quote added!",
                "toast_tx_recorded": "Transaction recorded!",
                "error_update": "Failed to update transaction",
                "error_delete": "Failed to delete transaction",
                "confirm_delete_tx": "Are you sure you want to delete this transaction?",
                "manual_update": "Update Market Quotes",
                "last_updated": "Last updated",
                "update_success": "Market data updated!",
                "update_failed": "Failed to update market data",
                "delete_tx_title": "Confirm Delete Transaction",
                "delete_btn": "Confirm Delete",
                "delete_success": "Transaction deleted",
                "weekend_error": "Transactions cannot be recorded on weekends (closed market).",
                "error_fetch_price": "Could not fetch price for this date. Please check connection or enter manually.",
                "error_invalid_input": "Please enter valid price and quantity.",
                "settlement_price": "Settlement Price",
                "settlement_pnl": "Estimated Settlement Profit",
                "settlement_pnl": "Estimated Settlement Profit",
                "total_settlement_pnl": "Total P&L Since Purchase",
                "pnl_percent": "P&L %",
                "cost_basis": "Current Cost",
                "in_wallet": "In Wallet",
                "final_cost": "Settled Cost",
                "market_value_equity": "Current Equity",
                "empty_holdings": "No Holdings",
                "realized_pnl_desc": "Profit Booked",
                "total_pnl_desc": "Total Return",
                "transaction_failed": "Failed to record transaction"
            },
            "settings": {
                "title": "Settings",
                "currency": "Currency",
                "language": "Language",
                "preview": "Preview",
                "currencies": {
                    "USD": "US Dollar",
                    "CNY": "Chinese Yuan",
                    "HKD": "HK Dollar"
                }
            },
            "diagnosis": {
                "title": "Smart Diagnosis",
                "subtitle": "External tool to analyze any stock instantly.",
                "input_symbol": "Stock Symbol",
                "input_key": "X-API-KEY (Optional)",
                "btn_diagnose": "Run Diagnosis",
                "result_title": "Analysis Result",
                "info": {
                    "market_cap": "Market Cap",
                    "pe_ratio": "PE Ratio",
                    "industry": "Industry",
                    "area": "Area",
                    "dividend": "Dividend Yield",
                    "summary": "Business Summary"
                },
                "error_config": "Backend API Key not configured.",
                "error_unauthorized": "Invalid API Key.",
                "error_not_found": "Stock not found. Check symbol.",
                "placeholder_symbol": "e.g. 000001, AAPL, 0700"
            }
        }
    },
    "zh-CN": {
        translation: {
            "auth": {
                "login_title": "欢迎回来",
                "login_subtitle": "使用您的邮箱账号继续管理您的资产",
                "login_btn": "登 录",
                "register_title": "创建新账户",
                "register_subtitle": "注册即刻开启您的数据化投资之旅",
                "register_btn": "注 册",
                "email": "邮箱地址",
                "password": "账户密码",
                "verification_code": "验证码",
                "send_code": "获取验证码",
                "no_account": "还没有账号？",
                "have_account": "已有账号？",
                "login_link": "立即登录",
                "register_link": "立即注册",
                "logout": "退出登录",
                "forgot_password": "忘记密码？",
                "reset_password_title": "重置密码",
                "reset_password_subtitle": "验证您的邮箱以设置新密码",
                "reset_password_btn": "重置密码",
                "reset_password_success": "密码重置成功",
                "new_password": "新密码",
                "login_success": "登录成功",
                "register_success": "注册成功，请登录",
                "email_required": "请输入邮箱",
                "code_sent": "验证码已发送至邮箱",
                "email_placeholder": "请输入您的邮箱地址",
                "code_placeholder": "6位数字验证码",
                "password_placeholder": "请输入密码",
                "send_code_failed": "发送验证码失败，请稍后重试",
                "security_check_failed": "安全验证失败，请刷新页面",
                "login_failed": "登录失败，请检查账号密码",
                "register_failed": "注册失败，该邮箱可能已注册",
                "reset_failed": "密码重置失败"
            },
            "app": {
                "title": "深度资产账本",
                "nav": {
                    "overview": "总览",
                    "stocks": "持仓管理",
                    "transactions": "交易明细",
                    "settings": "系统设置",
                    "menu": "菜单"
                }
            },
            "dashboard": {
                "title": "资产概览",
                "subtitle": "实时监控您的投资组合表现，深入分析资产分布与损益走势。",
                "net_worth": "净资产",
                "total_pnl": "累计盈亏",
                "daily_pnl": "当日盈亏",
                "history": "历史走势",
                "daily_details": "每日明细",
                "stock_count": "持有股票数"
            },
            "stocks": {
                "title": "我的持仓",
                "subtitle": "管理并实时监控您的全球资产行情与收益详情。",
                "add_button": "添加股票",
                "search_placeholder": "输入代码或名称搜索...",
                "identity_config": "资产标识与基础设定",
                "discovery_reg": "全球市场行情发现",
                "symbol_label": "股票代码",
                "name_label": "股票名称",
                "market_label": "交易市场",
                "search_label": "搜索股票 (代码/名称)",
                "table": {
                    "symbol": "代码",
                    "name": "名称",
                    "market": "市场",
                    "holdings": "持仓量",
                    "performance": "最近趋势",
                    "action": "操作",
                    "details": "详情"
                },
                "add_first": "添加您的第一只股票",
                "loading": "加载中...",
                "empty": "暂无持仓，请添加股票！",
                "error_add": "添加股票失败",
                "edit_title": "编辑股票",
                "save_changes": "保存修改",
                "confirm_delete": "确定要删除 {{symbol}} 及其所有数据吗？",
                "edit": "编辑",
                "delete": "删除",
                "delete_title": "删除股票",
                "delete_success": "股票已成功删除",
                "delete_btn": "立即删除",
                "add_success": "股票已成功添加",
                "update_success": "股票已成功更新",
                "market_types": {
                    "US": "美股",
                    "HK": "港股",
                    "CN": "A股",
                    "Crypto": "加密货币"
                },
                "searching": "搜索中...",
                "no_results": "未找到相关股票",
                "search_btn": "搜索",
                "delete_failed": "删除股票失败"
            },
            "common": {
                "coming_soon": "交易功能即将上线",
                "cancel": "取消",
                "confirm": "确定"
            },
            "stock_detail": {
                "current_price": "当前价格",
                "no_price_data": "暂无行情",
                "avg_cost": "平均成本价",
                "holdings_qty": "持仓数量",
                "market_value": "持有市值",
                "unrealized_pnl": "未实现盈亏",
                "realized_pnl": "已实现盈亏",
                "total_pnl": "累计盈亏",
                "price_history": "价格走势",
                "recent_transactions": "近期交易",
                "add_quote": "录入每日行情",
                "date": "日期",
                "close_price": "收盘价",
                "save_quote": "保存行情",
                "add_transaction": "录入交易记录",
                "record_transaction": "保存记录",
                "type": "类型",
                "price": "价格",
                "open": "开盘",
                "high": "最高",
                "low": "最低",
                "quantity": "数量",
                "fees": "手续费",
                "buy": "买入",
                "sell": "卖出",
                "dividend": "分红",
                "dividend_cash": "现金分红",
                "close_position": "平仓",
                "add_quote": "录入行情",
                "quote_type": "行情（收盘价）",
                "fetching": "获取中...",
                "no_price_today": "今日收盘价暂未公布，请手动输入或稍后重试。",
                "auto_fill": "自动填充",
                "fetch_failed": "获取价格失败：{{message}}",
                "toast_quote_added": "行情已添加！",
                "toast_tx_recorded": "交易已记录！",
                "error_update": "更新交易失败",
                "error_delete": "删除交易失败",
                "confirm_delete_tx": "确定要删除这条交易记录吗？",
                "manual_update": "手动更新行情",
                "last_updated": "最近更新",
                "update_failed": "更新行情失败",
                "delete_tx_title": "确认删除交易记录",
                "delete_btn": "确认删除",
                "delete_success": "交易记录已删除",
                "weekend_error": "休市期间（周六日）不可录入交易记录。",
                "error_fetch_price": "无法获取该日期的行情，请检查网络或手动输入。",
                "error_invalid_input": "请输入有效的价格和数量。",
                "settlement_price": "结算收盘价",
                "settlement_pnl": "预计平仓结算盈亏",
                "total_settlement_pnl": "累计总盈亏参考",
                "pnl_percent": "盈亏比例",
                "cost_basis": "持仓成本",
                "in_wallet": "持仓中",
                "final_cost": "结转成本",
                "market_value_equity": "当前净值",
                "empty_holdings": "无持仓",
                "realized_pnl_desc": "已落袋收益",
                "total_pnl_desc": "总回撤/盈余",
                "transaction_failed": "录入交易失败"
            },
            "settings": {
                "title": "设置",
                "currency": "货币符号",
                "language": "语言",
                "preview": "预览",
                "currencies": {
                    "USD": "美元",
                    "CNY": "人民币",
                    "HKD": "港币"
                }
            },
            "diagnosis": {
                "title": "智能诊断",
                "subtitle": "使用外部 API 服务即时解析任何标的的详细信息。",
                "input_symbol": "股票代码",
                "input_key": "API 密钥 (可选)",
                "btn_diagnose": "开启诊断",
                "result_title": "诊断分析结果",
                "info": {
                    "market_cap": "总市值",
                    "pe_ratio": "市盈率",
                    "industry": "所属行业",
                    "area": "所属地区",
                    "dividend": "股息率",
                    "summary": "业务摘要"
                },
                "error_config": "后端未配置 EXTERNAL_API_KEY。",
                "error_unauthorized": "API 密钥错误。",
                "error_not_found": "未找到该股票，请检查代码。",
                "placeholder_symbol": "如：000001, AAPL, 0700"
            }
        }
    },
    "zh-TW": {
        translation: {
            "auth": {
                "login_title": "歡迎回來",
                "login_subtitle": "使用您的郵箱賬號繼續管理您的資產",
                "login_btn": "登 錄",
                "register_title": "創建新賬戶",
                "register_subtitle": "註冊即刻開啟您的數據化投資之旅",
                "register_btn": "註 冊",
                "email": "郵箱地址",
                "password": "賬戶密碼",
                "verification_code": "驗證碼",
                "send_code": "獲取驗證碼",
                "no_account": "還沒有賬號？",
                "have_account": "已有賬號？",
                "login_link": "立即登錄",
                "register_link": "立即註冊",
                "logout": "退出登錄",
                "forgot_password": "忘記密碼？",
                "reset_password_title": "重置密碼",
                "reset_password_subtitle": "驗證您的郵箱以設置新密碼",
                "reset_password_btn": "重置密碼",
                "reset_password_success": "密碼重置成功",
                "new_password": "新密碼",
                "login_success": "登錄成功",
                "register_success": "註冊成功，請登錄",
                "email_required": "請輸入郵箱",
                "code_sent": "驗证碼已發送至郵箱",
                "email_placeholder": "請輸入您的郵箱地址",
                "code_placeholder": "6位數字驗證碼",
                "password_placeholder": "請輸入密碼",
                "send_code_failed": "發送驗證碼失敗，請稍候重試",
                "security_check_failed": "安全驗證失敗，請刷新頁面",
                "login_failed": "登錄失敗，請檢查賬號密碼",
                "register_failed": "註冊失敗，該郵箱可能已註冊",
                "reset_failed": "密碼重置失敗"
            },
            "app": {
                "title": "深度資產賬本",
                "nav": {
                    "overview": "總覽",
                    "stocks": "持倉管理",
                    "transactions": "交易明細",
                    "settings": "系統設置",
                    "menu": "菜單"
                }
            },
            "dashboard": {
                "title": "資產概覽",
                "subtitle": "實時監控您的投資組合表現，深入分析資產分佈與損益走勢。",
                "net_worth": "淨資產",
                "total_pnl": "累計盈虧",
                "daily_pnl": "當日盈虧",
                "history": "歷史走勢",
                "daily_details": "每日明細",
                "stock_count": "持有股票數"
            },
            "stocks": {
                "title": "我的持倉",
                "subtitle": "管理並實時監控您的全球資產行情與收益詳情。",
                "add_button": "添加股票",
                "search_placeholder": "輸入代碼或名稱搜索...",
                "identity_config": "資產標識與基礎設定",
                "discovery_reg": "全球市場行情發現",
                "symbol_label": "股票代碼",
                "name_label": "股票名稱",
                "market_label": "交易市場",
                "search_label": "搜索股票 (代碼/名稱)",
                "table": {
                    "symbol": "代碼",
                    "name": "名稱",
                    "market": "市場",
                    "holdings": "持倉量",
                    "performance": "最近趨勢",
                    "action": "操作",
                    "details": "詳情"
                },
                "add_first": "添加您的第一隻股票",
                "loading": "加載中...",
                "empty": "暫無持倉，請添加股票！",
                "error_add": "添加股票失敗",
                "edit_title": "編輯股票",
                "save_changes": "保存修改",
                "confirm_delete": "確定要刪除 {{symbol}} 及其所有數據嗎？",
                "edit": "編輯",
                "delete": "刪除",
                "delete_title": "刪除股票",
                "delete_success": "股票已成功刪除",
                "update_success": "股票已成功更新",
                "add_success": "股票已成功添加",
                "market_types": {
                    "US": "美股",
                    "HK": "港股",
                    "CN": "A股",
                    "Crypto": "加密貨幣"
                },
                "searching": "搜索中...",
                "no_results": "未找到相關股票",
                "search_btn": "搜索",
                "delete_failed": "刪除股票失敗"
            },
            "common": {
                "coming_soon": "交易功能即將上線",
                "cancel": "取消",
                "confirm": "確定"
            },
            "stock_detail": {
                "current_price": "當前價格",
                "no_price_data": "暫無行情",
                "avg_cost": "平均成本價",
                "holdings_qty": "持倉數量",
                "market_value": "持有市值",
                "unrealized_pnl": "未實現盈虧",
                "price_history": "價格走勢",
                "recent_transactions": "近期交易",
                "add_quote": "錄入每日行情",
                "date": "日期",
                "close_price": "收盤價",
                "save_quote": "保存行情",
                "add_transaction": "錄入交易記錄",
                "record_transaction": "保存記錄",
                "type": "類型",
                "price": "價格",
                "open": "開盤",
                "high": "最高",
                "low": "最低",
                "quantity": "數量",
                "fees": "手續費",
                "buy": "買入",
                "sell": "賣出",
                "dividend": "分紅",
                "dividend_cash": "現金分紅",
                "close_position": "平倉",
                "add_quote": "錄入行情",
                "quote_type": "行情（收盤價）",
                "fetching": "獲取中...",
                "no_price_today": "今日收盤價暫未公佈，請手動輸入或稍後重試。",
                "auto_fill": "自動填充",
                "fetch_failed": "獲取價格失敗：{{message}}",
                "toast_quote_added": "行情已添加！",
                "toast_tx_recorded": "交易已記錄！",
                "error_update": "更新交易失敗",
                "error_delete": "刪除交易失敗",
                "confirm_delete_tx": "確定要刪除這條交易記錄嗎？",
                "manual_update": "手動更新行情",
                "last_updated": "最近更新",
                "update_failed": "更新行情失敗",
                "delete_tx_title": "確認刪除交易記錄",
                "delete_btn": "確認刪除",
                "delete_success": "交易記錄已刪除",
                "weekend_error": "休市期間（週六日）不可錄入交易記錄。",
                "error_fetch_price": "無法獲取該日期的行情，請檢查網絡或手動輸入。",
                "error_invalid_input": "請輸入有效的價格和數量。",
                "settlement_price": "結算收盤價",
                "settlement_pnl": "預計平倉結算盈虧",
                "total_settlement_pnl": "累計總盈虧參考",
                "pnl_percent": "盈虧比例",
                "cost_basis": "持倉成本",
                "in_wallet": "持倉中",
                "final_cost": "結轉成本",
                "market_value_equity": "當前淨值",
                "empty_holdings": "無持倉",
                "realized_pnl_desc": "已落袋收益",
                "total_pnl_desc": "總回撤/盈餘",
                "transaction_failed": "錄入交易失敗"
            },
            "settings": {
                "title": "設置",
                "currency": "貨幣符號",
                "language": "語言",
                "preview": "預覽",
                "currencies": {
                    "USD": "美元",
                    "CNY": "人民幣",
                    "HKD": "港幣"
                }
            },
            "diagnosis": {
                "title": "智能診斷",
                "subtitle": "使用外部 API 服務即時解析任何標的的詳細信息。",
                "input_symbol": "股票代碼",
                "input_key": "API 密鑰 (可選)",
                "btn_diagnose": "開啟診斷",
                "result_title": "診斷分析結果",
                "info": {
                    "market_cap": "總市值",
                    "pe_ratio": "市盈率",
                    "industry": "所屬行業",
                    "area": "所屬地區",
                    "dividend": "股息率",
                    "summary": "業務摘要"
                },
                "error_config": "後端未配置 EXTERNAL_API_KEY。",
                "error_unauthorized": "API 密鑰錯誤。",
                "error_not_found": "未找到該股票，請檢查代碼。",
                "placeholder_symbol": "如：000001, AAPL, 0700"
            }
        }
    }
};

i18n
    .use(LanguageDetector)
    .use(initReactI18next)
    .init({
        resources,
        lng: 'zh-CN',
        fallbackLng: 'zh-CN',
        supportedLngs: ['en', 'zh-CN', 'zh-TW'],
        detection: {
            order: ['querystring', 'cookie', 'localStorage', 'navigator', 'htmlTag'],
            caches: ['localStorage', 'cookie']
        },
        interpolation: {
            escapeValue: false
        }
    });

export default i18n;
